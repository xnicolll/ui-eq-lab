{% extends "base.html" %}

{% block content %}
<div class="quiz-content">
    <h1>Quiz Question {{ question_id }}</h1>
    <div class="question">
        <h3>{{ question.question }}</h3>
        <form id="quiz-form">
            {% for option in question.options %}
            <div class="form-check">
                <input class="form-check-input" type="radio" name="answer" id="option{{ loop.index0 }}" value="{{ loop.index0 }}">
                <label class="form-check-label" for="option{{ loop.index0 }}">
                    {{ option }}
                </label>
            </div>
            {% endfor %}
        </form>
    </div>

    <div class="navigation-buttons mt-4">
        {% if question_id > 1 %}
        <a href="/quiz/{{ question_id - 1 }}" class="btn btn-secondary">Previous</a>
        {% endif %}
        {% if question_id < 2 %}
        <button type="button" class="btn btn-primary" onclick="submitAnswer()">Next</button>
        {% else %}
        <a href="/results" class="btn btn-primary">See Results</a>
        {% endif %}
    </div>
</div>

<script>
function submitAnswer() {
    const selectedAnswer = document.querySelector('input[name="answer"]:checked');
    if (selectedAnswer) {
        window.location.href = '/quiz/{{ question_id + 1 }}';
    } else {
        alert('Please select an answer');
    }
}
</script>
{% endblock %} 